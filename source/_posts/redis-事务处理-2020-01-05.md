---
title: Redis 事务处理  
date: 2020-01-05 12:12:54
categories:
 - redis
tags:
 - redis
 - 事务处理
cover: https://s2.ax1x.com/2020/01/14/lLi0ot.jpg
---


## Redis 事务处理

Redis 的事务处理比较简单。只能保证 client 发起的事务中的命令可以连续的执行，而且不会插入其它的 client 命令，当一个 client 在连接中发出 multi 命令时，这个连接就进入一个事务的上下文，该连接后续的命令不会执行，而是存放到一个队列中，当执行 exec 命令时，redis 会顺序的执行队列中的所有命令。  

```
> multi
> set name a
> set name b
> exec
> get name
```

需要注意的是，redis 对于事务的处理方式比较特殊，它不会在事务过程中出错时恢复到之前的状态，这在实际应用中导致我们不能依赖 redis 的事务来保证数据一致性。  

